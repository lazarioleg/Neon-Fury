import random
    
player_name = input("What is your name traveler?: ")
player_health = 100
player_cash = 0
roll_cash = random.randint(15,45) #random cash drops after killing enemy
#def replay():


def roll_die():
    return random.randint(1,6)
def big_dmg():
    return random.randint(1,15)

def fight_enemy(enemy_health):
    global player_cash, player_health
    while enemy_health > 0 and player_health > 0:
        # Player attacks the enemy
        player_damage = big_dmg() 
        enemy_health -= player_damage
        print(f"{player_name} attacks the enemy and deal {player_damage} damage. Enemy health: {enemy_health}")
        if enemy_health <= 0:
            print("You defeated the enemy!")
            player_cash = player_cash + roll_cash
            return True            
        

            # Enemy attacks the player
        enemy_damage = big_dmg()
        player_health -= enemy_damage
        print(f"The enemy attacks you and deals {enemy_damage} damage. Your health: {player_health}")
        if player_health >= 0:
            print("You can still fight")
            
        
        else:
            print("The enemy defeated you!")
            return False

    

#Game Start------------------------------------------------


print(f"Welcome to Mirror Tombs, Test Your Luck, {player_name}!") 
while player_health > 0:
# Ask the player what they want to do
    choice2 = input("What would you like to do? (fight, explore, rest, run, quit): ")

    if choice2 == "fight":
        # Roll a die to determine the enemy's health
        enemy_health = roll_die() * 10
        print(f"{player_name} encounter an enemy with {enemy_health} health!")
        # Call the function to handle the combat
        if not fight_enemy(enemy_health):
        # Player died, end the game
            break
    
    elif choice2 == "explore":
    # Give the player some gold
        found_cash = roll_die() * 6
        print(f"You find {found_cash} cash!")
        player_cash += found_cash

    elif choice2 == "rest":
        # Rest and restore some health
        restored_health = roll_die() * 12
        print(f"You rest and restore {restored_health} health.")
        player_health += restored_health
        if player_health > 100:
            player_health = 100

    elif choice2 == "run":
        print('You ran from death')
        

    elif choice2 == "quit":
    # End the game
        break

    else:
        # Invalid choice
        print("Invalid choice. Try again.")

    # Display the player's current state
    print(f"Current state: health={player_health}, cash={player_cash}")


    #replay = input("Would you like to test your luck again, (y/n): ")
    #if replay != "y":
     #   break
